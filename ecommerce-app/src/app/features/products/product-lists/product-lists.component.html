<!-- PROFESSIONAL PRODUCT LIST UI (Logic Unchanged, Only Styling & UX Improved) -->
<div class="bg-[#F5F6FA] min-h-screen px-4 sm:px-6 md:px-[140px] py-8">
  <h2 class="text-3xl font-bold text-center mb-6 text-[#272136]">All Products</h2>

  <!-- TOP BAR WITH FILTER ICON (NO NEW TS LOGIC) -->
  <div class="flex justify-between items-center bg-white p-4 rounded-xl shadow-sm mb-6">
    <div class="relative w-full md:w-1/2">
  <i class="fa-solid fa-magnifying-glass absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"></i>
  <input
        type="text"
        placeholder="Search for products"
        [(ngModel)]="searchTerm"
        (input)="applyFilters()"
        class="w-full pl-11 pr-5 py-3 rounded-full border border-gray-200 bg-gradient-to-r from-white to-gray-50 text-gray-700 font-medium shadow-sm focus:outline-none focus:ring-2 focus:ring-[#a477f1] focus:border-[#d9c3ff] transition-all duration-200 placeholder:text-gray-400"
      />
</div>

    <label for="filterToggle" class="ml-4 mb-1 flex items-center gap-2 bg-[#8a69dd] text-white px-4 py-2.5 rounded-lg shadow hover:bg-[#5B21B6] transition cursor-pointer">
      <i class="fa-solid fa-filter"></i>
      Filters
    </label>
  </div>

  <input type="checkbox" id="filterToggle" class="hidden peer" />

  <!-- SLIDE FILTER PANEL (FLEX MODEL + PROFESSIONAL LAYOUT) -->
  <div
    class="fixed top-24 right-0 w-[360px] max-h-[80vh] bg-white rounded-l-2xl shadow-2xl z-50 transform translate-x-full peer-checked:translate-x-0 transition-transform duration-300 opacity-0 peer-checked:opacity-100"
  >
    <div class="p-6 flex flex-col gap-6 overflow-y-auto">

      <div class="flex justify-between items-center border-b pb-3">
        <h3 class="text-xl font-bold text-[#272136]">Filters</h3>
        <label for="filterToggle" class="cursor-pointer text-xl text-gray-500 hover:text-black">
          <i class="fa-solid fa-xmark"></i>
        </label>
      </div>

      <!-- CATEGORY SECTION -->
      <div class="flex flex-col gap-3">
        <p class="font-semibold text-sm text-gray-700 uppercase tracking-wide">Category</p>
        <div class="grid grid-cols-2 gap-2">
          <label class="flex items-center gap-2 text-sm cursor-pointer">
            <input type="radio" name="category" value="" [(ngModel)]="categoryFilter" (change)="applyFilters()" class="accent-[#7C3AED]" /> All
          </label>
          <label
            *ngFor="let c of categories"
            class="flex items-center gap-2 text-sm cursor-pointer"
          >
            <input type="radio" name="category" [value]="c" [(ngModel)]="categoryFilter" (change)="applyFilters()" class="accent-[#7C3AED]" />
            {{ c }}
          </label>
        </div>
      </div>

      <!-- SORT SECTION -->
      <div class="flex flex-col gap-3">
        <p class="font-semibold text-sm text-gray-700 uppercase tracking-wide">Sort By</p>
        <div class="flex flex-col gap-2">
          <label class="flex items-center gap-2 text-sm cursor-pointer">
            <input type="radio" name="sort" value="" [(ngModel)]="sortOption" (change)="applyFilters()" class="accent-[#7C3AED]" /> Default
          </label>
          <label class="flex items-center gap-2 text-sm cursor-pointer">
            <input type="radio" name="sort" value="priceLow" [(ngModel)]="sortOption" (change)="applyFilters()" class="accent-[#7C3AED]" /> Price Low to High
          </label>
          <label class="flex items-center gap-2 text-sm cursor-pointer">
            <input type="radio" name="sort" value="priceHigh" [(ngModel)]="sortOption" (change)="applyFilters()" class="accent-[#7C3AED]" /> Price High to Low
          </label>
          <label class="flex items-center gap-2 text-sm cursor-pointer">
            <input type="radio" name="sort" value="ratingHigh" [(ngModel)]="sortOption" (change)="applyFilters()" class="accent-[#7C3AED]" /> Top Rated
          </label>
        </div>
      </div>

      <!-- ACTION BUTTON -->
      <div class="pt-4 mt-auto border-t mb-4">
        <button
          (click)="clearFilters(); sortOption = ''"
          class="w-full bg-gradient-to-r from-[#7C3AED] to-[#9D7CFD] text-white py-2 rounded-lg text-sm font-medium hover:from-[#5B21B6] hover:to-[#7C3AED] transition"
        >
          Clear Filters
        </button>
      </div>

    </div>
  </div>

  <!-- PRODUCT GRID -->
  <div class="grid gap-8 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3">
    <div
      *ngFor="let product of filteredProducts()"
      class="bg-white rounded-xl shadow-md hover:shadow-lg transition flex flex-col cursor-pointer relative" (click)="viewDetails(product.id)"
      style="height: 420px;"
    >

      <!-- WISHLIST (VISIBLE & FIXED) -->
      <button
        class="absolute top-3 right-3 z-20 w-9 h-9 flex items-center justify-center rounded-full backdrop-blur-md shadow-md hover:scale-110 transition"
        (click)="toggleVisualList(product); $event.stopPropagation()"
      >
        <i
          class="fa-heart text-lg transition-colors duration-300"
          [class.fa-solid]="visualListService.isInVisualList(product.id)"
          [class.fa-regular]="!visualListService.isInVisualList(product.id)"
          [class.text-white]="visualListService.isInVisualList(product.id)"
          [class.text-gray-800]="!visualListService.isInVisualList(product.id)"
          [class.text-white]="visualListService.isInVisualList(product.id)"
        ></i>
      </button>

      <!-- Image -->
      <div class="overflow-hidden rounded-t-xl flex-shrink-0">
        <img
          [src]="product.image"
          alt="{{ product.name }}"
          class="w-full h-56 object-cover"
        />
      </div>

      <!-- Content -->
      <div class="p-4 flex flex-col justify-between flex-grow">
        <div>
          <h3 class="text-lg font-semibold text-[#272136] line-clamp-2">{{ product.name }}</h3>
          <p class="text-gray-500 text-sm">{{ product.category }}</p>
          <p class="text-[#7C3AED] font-bold text-lg mt-2">₹{{ product.price }}</p>
        </div>

        <!-- FIXED ADD TO CART BUTTON -->
        <button
          class="mt-4 w-full bg-[#8a69dd] text-white py-2 rounded-lg font-medium hover:bg-[#5B21B6] transition"
          (click)="addToCart(product); $event.stopPropagation()"
        >
          Add to Cart
        </button>
      </div>
    </div>
  </div>

  <!-- PAGINATION (UNCHANGED) -->
  <div class="flex justify-center items-center gap-4 mt-10">
    <button
      (click)="prevPage()"
      [disabled]="currentPage === 1"
      class="bg-[#7C3AED] text-white px-4 py-2 rounded-lg disabled:opacity-50"
    >
      Previous
    </button>
    <span class="font-semibold">Page {{ currentPage }} of {{ totalPages }}</span>
    <button
      (click)="nextPage()"
      [disabled]="currentPage === totalPages"
      class="bg-[#7C3AED] text-white px-4 py-2 rounded-lg disabled:opacity-50"
    >
      Next
    </button>
  </div>
</div>
















<!-- <div class="bg-[#F9F8FF] min-h-screen px-4 sm:px-6 md:px-[150px] py-8 md:py-12">
  <h2 class="text-2xl font-bold text-center mb-8 text-[#272136]">All Products</h2> -->
<!--  Filters & Search -->
<!-- <div
  class="flex flex-col md:flex-row justify-between items-center mb-8 gap-4 bg-white p-4 md:p-6 rounded-xl shadow-sm border border-gray-100  top-0 z-30"
> -->
  <!-- Search Input -->
  <!-- <div class="w-full md:w-1/3 flex items-center gap-2">
    <i class="fa-solid fa-magnifying-glass text-gray-500 text-lg hidden sm:block"></i>
    <input
      type="text"
      placeholder="Search products..."
      [(ngModel)]="searchTerm"
      (input)="applyFilters()"
      class="w-full px-3 sm:px-4 py-2 text-sm sm:text-base rounded-xl border border-gray-200 
             bg-gradient-to-r from-white to-gray-50 text-gray-700 font-medium shadow-sm 
             focus:outline-none focus:ring-2 focus:ring-[#C8BAE6] focus:border-[#C8BAE6] 
             hover:border-[#B9A8F3] transition-all duration-200"
    />
  </div> -->

  <!-- Category Dropdown -->
  <!-- <div class="relative w-full md:w-1/4">
    <select
      [(ngModel)]="categoryFilter"
      (change)="applyFilters()"
      class="appearance-none w-full px-3 sm:px-4 py-2 text-xs sm:text-sm 
             rounded-xl border border-gray-200 bg-gradient-to-r from-white to-gray-50 
             text-gray-700 font-medium shadow-sm 
             focus:outline-none focus:ring-2 focus:ring-[#C8BAE6] focus:border-[#C8BAE6]
             hover:border-[#B9A8F3] transition-all duration-200 cursor-pointer"
    >
      <option value="" class="text-gray-400 italic">All Categories</option>
      <option
        *ngFor="let c of categories"
        [value]="c"
        class="text-gray-700 hover:bg-[#F1EAFE] hover:text-[#5B21B6]"
      >
        {{ c }}
      </option>
    </select> -->

    <!-- Custom Arrow -->
    <!-- <i
      class="fa-solid fa-chevron-down absolute right-3 top-1/2 transform -translate-y-1/2 
             text-gray-400 text-xs sm:text-sm pointer-events-none"
    ></i>
  </div> -->

  <!-- Sort Dropdown -->
  <!-- <div class="relative w-full md:w-1/4">
    <select
      [(ngModel)]="sortOption"
      (change)="applyFilters()"
      class="appearance-none w-full px-3 sm:px-4 py-2 text-xs sm:text-sm md:text-base
             rounded-xl border border-gray-200 bg-gradient-to-r from-white to-gray-50 
             text-gray-700 font-medium shadow-sm 
             focus:outline-none focus:ring-2 focus:ring-[#C8BAE6] focus:border-[#C8BAE6]
             hover:border-[#B9A8F3] transition-all duration-200 cursor-pointer"
    >
      <option value="">Sort By</option>
      <option value="priceLow">Price: Low to High</option>
      <option value="priceHigh">Price: High to Low</option>
      <option value="ratingHigh">Top Rated</option>
    </select> -->

    <!-- Custom Arrow -->
    <!-- <i
      class="fa-solid fa-chevron-down absolute right-3 top-1/2 transform -translate-y-1/2 
             text-gray-400 text-xs sm:text-sm pointer-events-none"
    ></i>
  </div> -->

  <!--  Clear Button -->
  <!-- <button
    (click)="clearFilters()"
    class="w-full md:w-auto bg-gradient-to-r from-[#7C3AED] to-[#9D7CFD] text-white 
           px-4 py-2 rounded-xl text-xs sm:text-sm md:text-base font-medium 
           hover:from-[#5B21B6] hover:to-[#7C3AED] transition-all duration-200 
           shadow-sm active:scale-95"
  >
    <i class="fa-solid fa-rotate-right mr-1"></i> Clear
  </button>
</div> -->



  <!-- Loading -->
  <!-- <div *ngIf="loading" class="text-center text-gray-500">Loading products...</div> -->

  <!--  Product Grid -->
  <!-- <div *ngIf="!loading" class="grid gap-8 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3">
    <div
      *ngFor="let product of filteredProducts()"
      class="bg-white rounded-xl shadow-md hover:shadow-xl transition relative group"
    >
      <button
        class="absolute top-3 right-3 z-10 p-2 rounded-full shadow-md transition duration-300"
        [ngClass]="{
          'bg-white-500 text-white hover:bg-transparent-100': !visualListService.isInVisualList(product.id),
          'bg-white-500 text-white hover:bg-transparent-200': visualListService.isInVisualList(product.id)
        }"
        (click)="toggleVisualList(product); $event.stopPropagation()"
      >
        <i
          class="fa-heart"
          [class.fa-solid]="visualListService.isInVisualList(product.id)"
          [class.fa-regular]="!visualListService.isInVisualList(product.id)"
        ></i>
      </button>

      <div class="overflow-hidden rounded-t-xl">
        <img
          [src]="product.image"
          alt="{{ product.name }}"
          class="w-full h-56 object-cover transition duration-500 group-hover:scale-105 sm:group-hover:scale-105 md:group-hover:scale-105"
        />
      </div> -->

      <!--  Product Info -->
      <!-- <div class="p-4">
        <h3 class="text-lg font-semibold text-[#272136]">{{ product.name }}</h3>
        <p class="text-gray-500 text-sm mb-1">{{ product.category }}</p>
        <p class="text-[#C8BAE6] font-bold mb-3">₹{{ product.price }}</p>
      </div> -->

      <!-- Hover Buttons -->
      <!-- <div
        class="absolute inset-0 hidden sm:flex items-end justify-end pb-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-transparent"
      >
        <div class="flex justify-end gap-3 pr-1">
          <button
            class="border border-[#7C3AED] text-[#1e0d3a] px-4 py-2 rounded-full hover:bg-gradient-to-r hover:from-[#7C3AED] hover:to-[#C8BAE6] hover:text-white transition"
            (click)="addToCart(product); $event.stopPropagation()"
          >
            Add to Cart
          </button>

          <button
            class="border border-[#7C3AED] text-[#1e0d3a] px-6 py-2 rounded-full hover:bg-gradient-to-r hover:from-[#7C3AED] hover:to-[#C8BAE6] hover:text-white transition"
            (click)="viewDetails(product.id); $event.stopPropagation()"
          >
            View
          </button>
        </div>
      </div> -->

      <!-- Mobile Buttons (visible always on mobile) -->
      <!-- <div class="flex sm:hidden flex-col gap-2 p-4 pt-0">
        <button
          class="w-full border border-[#7C3AED] text-[#1e0d3a] px-4 py-2 rounded-full text-sm hover:bg-[#7C3AED] hover:text-white transition"
          (click)="addToCart(product); $event.stopPropagation()"
        >
          Add to Cart
        </button>
        <button
          class="w-full border border-[#7C3AED] text-[#1e0d3a] px-4 py-2 rounded-full text-sm hover:bg-[#7C3AED] hover:text-white transition"
          (click)="viewDetails(product.id); $event.stopPropagation()"
        >
          View
        </button>
      </div>
    </div>
  </div> -->

  <!--  Pagination -->
  <!-- <div class="flex justify-center items-center gap-4 mt-10">
    <button
      (click)="prevPage()"
      [disabled]="currentPage === 1"
      class="bg-[#8d5ff0] text-white px-4 py-2 rounded-lg disabled:opacity-50 hover:bg-[#251646] transition"
    >
      Previous
    </button>
    <span class="text-[#272136] font-semibold">Page {{ currentPage }} of {{ totalPages }}</span>
    <button
      (click)="nextPage()"
      [disabled]="currentPage === totalPages"
      class="bg-[#8d5ff0] text-white px-4 py-2 rounded-lg disabled:opacity-50 hover:bg-[#251646] transition"
    >
      Next
    </button>
  </div>
</div> -->
